#!/bin/bash
set -eu

mkdir -p "${HOME}/.local/bin"

# mise
if ! command -v mise &> /dev/null; then
  echo "==> Installing mise..."
  curl https://mise.run | sh
  export PATH="${HOME}/.local/bin:${PATH}"
fi

# sheldon (公式スクリプト)
if ! command -v sheldon &> /dev/null; then
  echo "==> Installing sheldon..."
  curl --proto '=https' -fLsS https://rossmacarthur.github.io/install/crate.sh \
    | bash -s -- --repo rossmacarthur/sheldon --to ~/.local/bin
fi

# tmux plugin manager
if [ ! -d "${HOME}/.tmux/plugins/tpm" ]; then
  echo "==> Installing tmux plugin manager..."
  git clone --depth 1 https://github.com/tmux-plugins/tpm "${HOME}/.tmux/plugins/tpm"
fi
